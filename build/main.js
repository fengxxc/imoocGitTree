!function(e){var t={};function i(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(l,n,function(t){return e[t]}.bind(null,n));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){class i{constructor(e,t){this._val=e||"",this._isLeaf=i.checkIsLeaf(e),this._firstLeafChildIndex=-1,this._childs=t||[],this._val2ChildIndexMap=new Map,this._childs.forEach((e,t)=>this.setVal2ChildIndexMap(e.val,t))}get val(){return this._val}set val(e){this._val=e}get isLeaf(){return this._isLeaf}set isLeaf(e){this._isLeaf=e}get firstLeafChildIndex(){return this._firstLeafChildIndex}set firstLeafChildIndex(e){this._firstLeafChildIndex=e}get childs(){return this._childs}set childs(e){this._childs=e}getVal2ChildIndexMap(){return this._val2ChildIndexMap}setVal2ChildIndexMap(e,t){this._val2ChildIndexMap.set(e,t)}getChildByIndex(e){return this._childs[e]}getChildByVal(e){return this._childs[this._val2ChildIndexMap.get(e)]}deleteChildByVal(e){this._childs.splice([this._val2ChildIndexMap.get(e)],1)}hasChildVal(e){return this._val2ChildIndexMap.has(e)}hasChild(e){return this.hasChildVal(e.val)}putChild(e){if(this.hasChild(e))return this.getChildByVal(e.val);let t=-1;return e.isLeaf?(-1==this.firstLeafChildIndex&&(this.firstLeafChildIndex=this.childs.length),this._childs.push(e),t=this.childs.length-1):-1!=this.firstLeafChildIndex?(this._childs.splice(this.firstLeafChildIndex,0,e),this.firstLeafChildIndex++,t=this.firstLeafChildIndex):(this._childs.push(e),t=this.childs.length-1),this.setVal2ChildIndexMap(e.val,t),e}static _toTreeString(e,t,l,n){let r=[];for(let s=0;s<e.childs.length;s++){const h=e.childs[s],a=l?l(h):h.val,d=s==e.childs.length-1;r.push(t+(d?"╰─ ":"├─ ")+a+"\n"),r.push(i._toTreeString(h,t+(d?"   ":"│  "),l,n)),n&&n(h)}return r.join("")}toString(){return i._toTreeString(this,[])}static _toJson(e){return{val:e.val,firstLeafChildIndex:e.firstLeafChildIndex,childs:(t=e.childs,t.map(e=>i._toJson(e)))};var t}toJson(){return i._toJson(this)}toJsonString(){return JSON.stringify(this.toJson())}static checkIsLeaf(e){return e.search(/\./)>0}static buildByPathString(e,t,l,n){l.lastIndexOf("#")>-1&&(l=l.slice(0,l.lastIndexOf("#")));const r=l.split(t);for(let t=0,l=e;t<r.length;t++){if(""==r[t])continue;let e=new i(r[t],[]);if(n&&(e=n(e,t==r.length-1)),l.hasChildVal(r[t])&&e.childs.length>0){const i=l.getChildByVal(r[t]),n=e.getVal2ChildIndexMap();i.getVal2ChildIndexMap().forEach((e,t)=>{n.has(t)||(i.deleteChildByVal(t),n.delete(t))}),n.forEach((t,l)=>{i.putChild(e.getChildByVal(l))})}else l=l.putChild(e)}}static buildByJson(e){return new i(e.val,e.childs.map(e=>i.buildByJson(e)))}}e.exports=i},function(e,t,i){e.exports=i(2)},function(e,t,i){const l=i(0),n=i(3),r=()=>{const e=window.location,t=window.localStorage.getItem("imoocGitTreeCache");let i=null;t?i=l.buildByJson(JSON.parse(t)):(i=new l(e.origin),window.localStorage.setItem("imoocGitTreeCache",i));const r=e.pathname,s=document.querySelectorAll("#repo-files-table td.name");s?l.buildByPathString(i,"/",r,(e,t)=>(t&&(s.forEach(t=>e.putChild(new l(t.innerText.trim(),[]))),s.forEach(e=>console.log("find: "+e.innerText.trim()))),e)):l.buildByPathString(i,"/",r),window.localStorage.setItem("imoocGitTreeCache",i.toJsonString()),n.render(i)};r(),e.exports={main:r}},function(e,t,i){const l=i(0);class n{static getRenderString(e){let t=[e.val];return l._toTreeString(e,"",e=>`<a href="${t.push(e.val),t.join("/")}">${e.val}</a>`,()=>t.pop())}static render(e){const t=`<pre>${n.getRenderString(e)}</pre>`,i=document.querySelector(".full.height");let l=document.querySelector("gitTree");l||(l=document.createElement("aside"),l.id="gitTree",document.querySelector("body").insertBefore(l,i)),l.innerHTML=t;const r=document.querySelector(".ui.container").offsetLeft;i.style.marginLeft=r+"px",l.style.position="fixed",l.style.width=r+"px",l.style.backgroundColor="#FFF",l.style.overflow="auto",l.style.height="100%"}}e.exports=n}]);